\documentclass{estiloDeTesis}
\usepackage{makeidx}
\usepackage{hyperref}
\hypersetup{breaklinks=true,colorlinks=true,linkcolor=black,citecolor=black,urlcolor=black}
\usepackage{pstricks}
\usepackage{url}
\usepackage{doi} 
\usepackage{footnote}
\usepackage{threeparttable}
\usepackage{microtype}
\usepackage[margin=10pt,font=small,labelfont=bf,labelsep=endash]{caption}
\usepackage{natbib}
\usepackage{pdflscape}
\usepackage[section]{placeins}
\usepackage{rotfloat}
\restylefloat{figure}
\floatstyle{boxed} 

%%%%%%%%%%%%%% Footnote format
\usepackage[doublespacing]{setspace}
\usepackage[bottom,hang]{footmisc}

\setlength{\footnotemargin}{-0.5em}
\setlength{\footnotesep}{-0.5em}
%%%%%%%%%%%%%%

\newcommand{\porHacer}[1]{{\color{red}#1}}
\newcommand{\redify}[1]{{\color[RGB]{237,27,35}#1}}
\newcommand{\greenify}[1]{{\color[RGB]{0,166,79}#1}}
\newcommand{\bluefy}[1]{{\color[RGB]{0,157,220}#1}}
\newcommand{\amark}{\multicolumn{1}{c|}{\bluefy{$\approx$}}}%
\newcommand{\cmark}{\multicolumn{1}{c|}{\greenify{\checkmark}}}%
\newcommand{\xmark}{\multicolumn{1}{c|}{\redify{\text{\sffamily X}}}}%

\def\titulo{Por definir}
\def\autor{Iv\'an Alejandro Guerra L\'opez}
\def\matricula{1425688}
\def\fecha{agosto 2014}
\def\asesor{Dra.\ Satu Elisa Schaeffer}
\def\coasesor{Dr. C\'esar Guerra Torres}
\def\revisor{Dr. Romeo S\'anchez Nigenda}
\def\vobo{M.C.\ Arnulfo Trevi\~{n}o Cubero}

\newcommand{\pname}[1]{{\fontfamily{phv}\selectfont{#1}\fontfamily{cmr}\selectfont}}
\setcounter{secnumdepth}{5}
\makeindex

\usepackage{listings}
\usepackage{tikz-uml}
\lstdefinelanguage{tikzuml}{language=[LaTeX]TeX, classoffset=0, morekeywords={umlbasiccomponent, umlprovidedinterface, umlrequiredinterface, umldelegateconnector, umlassemblyconnector, umlVHVassemblyconnector, umlHVHassemblyconnector, umlnote, umlusecase, umlactor, umlinherit, umlassoc, umlVHextend, umlinclude, umlstateinitial, umlbasicstate, umltrans, umlstatefinal, umlVHtrans, umlHVtrans, umldatabase, umlmulti, umlobject, umlfpart, umlcreatecall, umlclass, umlvirt, umlunicompo, umlimport, umlaggreg}, keywordstyle=\color{blue}, classoffset=1, morekeywords={umlcomponent, umlsystem, umlstate, umlseqdiag, umlcall, umlcallself, umlfragment, umlpackage}, keywordstyle=\color{red}, classoffset=0,  sensitive=true, morecomment=[l]{\%}}

\definecolor{rosso}{RGB}{220,57,18}
\definecolor{giallo}{RGB}{255,153,0}
\definecolor{blu}{RGB}{102,140,217}
\definecolor{verde}{RGB}{16,150,24}
\definecolor{viola}{RGB}{153,0,153}

\makeatletter

% Funciones para generar os piecharts
\tikzstyle{chart}=[
    legend label/.style={font={\scriptsize},anchor=west,align=left},
    legend box/.style={rectangle, draw, minimum size=5pt},
    axis/.style={black,semithick,->},
    axis label/.style={anchor=east,font={\tiny}},
]

\tikzstyle{bar chart}=[
    chart,
    bar width/.code={
        \pgfmathparse{##1/2}
        \global\let\bar@w\pgfmathresult
    },
    bar/.style={very thick, draw=white},
    bar label/.style={font={\bf\small},anchor=north},
    bar value/.style={font={\footnotesize}},
    bar width=.75,
]

\tikzstyle{pie chart}=[
    chart,
    slice/.style={line cap=round, line join=round, very thick,draw=white},
    pie title/.style={font={\bf}},
    slice type/.style 2 args={
        ##1/.style={fill=##2},
        values of ##1/.style={}
    }
]

\pgfdeclarelayer{background}
\pgfdeclarelayer{foreground}
\pgfsetlayers{background,main,foreground}


\newcommand{\pie}[3][]{
    \begin{scope}[#1]
    \pgfmathsetmacro{\curA}{90}
    \pgfmathsetmacro{\r}{1}
    \def\c{(0,0)}
    \node[pie title] at (90:1.3) {#2};
    \foreach \v/\s in{#3}{
        \pgfmathsetmacro{\deltaA}{\v/100*360}
        \pgfmathsetmacro{\nextA}{\curA + \deltaA}
        \pgfmathsetmacro{\midA}{(\curA+\nextA)/2}

        \path[slice,\s] \c
            -- +(\curA:\r)
            arc (\curA:\nextA:\r)
            -- cycle;
        \pgfmathsetmacro{\d}{max((\deltaA * -(.5/50) + 1) , .5)}

        \begin{pgfonlayer}{foreground}
        \path \c -- node[pos=\d,pie values,values of \s]{$\v\%$} +(\midA:\r);
        \end{pgfonlayer}

        \global\let\curA\nextA
    }
    \end{scope}
}

\newcommand{\legend}[2][]{
    \begin{scope}[#1]
    \path
        \foreach \n/\s in {#2}
            {
                  ++(0,-10pt) node[\s,legend box] {} +(5pt,0) node[legend label] {\n}
            }
    ;
    \end{scope}
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}
\frontmatter
\pagestyle{main}
\input{portillas}
\input{agradecimientos}
\input{resumen}

\tableofcontents
\listoffigures
\listoftables

\clearpage
\pagestyle{main}
\newpage

\mainmatter
\pagestyle{fime}

\input{abreviaciones}
\input{./Capitulos/1.intro}
\input{./Capitulos/2.antec}
\input{./Capitulos/3.estart}
\input{./Capitulos/5.sol}
\input{./Capitulos/6.eval}
\input{./Capitulos/7.conc}

\backmatter
\pagestyle{main}

\cleardoublepage
\phantomsection
\addcontentsline{toc}{chapter}{Bibliograf\'ia}
\bibliographystyle{customplainnat}
\bibliography{tesis}

\appendix
\include{autobiografia}
\end{document}
